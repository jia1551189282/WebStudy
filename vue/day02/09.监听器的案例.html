<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>监听器的案例</title>
	<script src="js/vue.js">
		
	</script>
</head>
<body>
	  <div id="app">
    <div>
      <span>用户名：</span>
      <span>
        <input type="text" v-model.lazy='uname'>
      </span>
      <span>{{tip}}</span>
    </div>
  </div>

	<script>
		var vm  = new Vue({
			el: '#app',
			data: {
				uname: '',
				tip: ''
			},
			methods: {
				checkName: function(uname){
					var that = this;
					setTimeout(function(){
						if(uname == 'admin'){
							that.tip = '用户名已存在,	请换一个';
						}else{
							that.tip = '用户名可以使用'；
						}
					},2000)
				}
			},
			watch:{
				uname: function(val){
					this.checkName(val);
					this.tip = '正在验证。。。。。。';
				}
			}
		})
	</script>
	
</body>
</html>